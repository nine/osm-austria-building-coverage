{% extends "base.html" %}
{% load humanize %}

{% block jumbotron %}

    {% include 'map_jumbotron.html' with coverage_boundary=country %}
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-lg-12">
            <h1>The OpenStreetMap Austria Building Coverage in Numbers</h1>

            <p>Welcome! This site aims to give an overview of how high the building coverage in Austria on
            OpenStreetMap is compared to <a href="http://www.basemap.at">basemap.at</a>. But before you start digging
            into the numbers, let me note a few things:</p>

            <div class="alert alert-warning" role="alert">
                <ul>
                    <li>This is not a public request to uncritically copy from other maps, even though they allow you to do
                        so.</li>
                    <li>This site <me>only</me> aims to serve as an approximation to show which regions in Austria have the
                        most catching-up to do in terms of building (and therefore probably address) coverage.</li>
                    <li>It should also be a motivation for people to map buildings and addresses in their area.</li>
                    <li>If you use <a href="http://www.basemap.at">basemap.at</a> as a source for mapping, please take the
                        same quality-assuring measures as always as the map has its inaccuracies and can be quite
                        out-of-date depending on the region.</li>
                    <li>When you map building outlines, please also map the corresponding
                        <a href="http://wiki.openstreetmap.org/wiki/DE:Key:addr">addresses</a>.</li>
                </ul>
            </div>
        </div>


    </div>
    <div class="row">
        <div class="col-md-4">
            <h2>States</h2>
            {% if states %}
                <p>
                    <table class="table table-bordered table-striped">
                        <tr>
                            <th>Rank</th>
                            <th>Name</th>
                            <th>Coverage</th>
                        </tr>
                        {% for state in states %}
                            <tr>
                                <td>{{ state.rank }}.</td>
                                <td><a href="{% url "coverage_score_viewer.views.details" state.id %}">{{ state }}</a></td>
                                <td>{{ state.coverage|floatformat:2 }} %</td>
                            </tr>
                        {% endfor %}

                        {% if country %}
                            <tr>
                                <td></td>
                                <td><strong>{{ country }} (Total)</strong></td>
                                <td><strong>{{ country.coverage|floatformat:2 }} %</strong></td>
                            </tr>
                        {% endif %}
                    </table>
                </p>
                <p>
                    <a class="btn btn-default" href="{% url 'coverage_score_viewer.views.states' %}">
                        See all states <span class="glyphicon glyphicon-chevron-right"></span>
                    </a>
                </p>
            {% else %}
                <p>No states could be found.</p>
            {% endif %}
        </div>
        <div class="col-md-4">
            <h2>Top 10 Districts</h2>
            {% if top_10_districts %}
                <p>
                    <table class="table table-bordered table-striped">
                        <tr>
                            <th>Rank</th>
                            <th>Name</th>
                            <th>Coverage</th>
                        </tr>
                        {% for district in top_10_districts %}
                            <tr>
                                <td>{{ district.rank }}.</td>
                                <td><a href="{% url 'coverage_score_viewer.views.details' district.id %}">{{ district }}</a></td>
                                <td>{{ district.coverage|floatformat:2 }} %</td>
                            </tr>
                        {% endfor %}
                    </table>
                </p>
                <p>
                    <a class="btn btn-default" href="{% url 'coverage_score_viewer.views.districts' %}">
                        See all districts <span class="glyphicon glyphicon-chevron-right"></span>
                    </a>
                </p>
            {% else %}
                <p>No districts could be found.</p>
            {% endif %}
        </div>
        <div class="col-md-4">
            <h2>Top 10 Municipalities</h2>
            {% if top_10_municipalities %}
                <p>
                    <table class="table table-bordered table-striped">
                        <tr>
                            <th>Rank</th>
                            <th>Name</th>
                            <th>Coverage</th>
                        </tr>
                        {% for municipality in top_10_municipalities %}
                            <tr>
                                <td>{{ municipality.rank }}.</td>
                                <td><a href="{% url 'coverage_score_viewer.views.details' municipality.id %}">{{ municipality }}</a></td>
                                <td>{{ municipality.coverage|floatformat:2 }} %</td>
                            </tr>
                        {% endfor %}
                    </table>
                </p>
                <p>
                    <a class="btn btn-default" href="{% url 'coverage_score_viewer.views.municipalities' %}">
                        See all municipalities <span class="glyphicon glyphicon-chevron-right"></span>
                    </a>
                </p>
            {% else %}
                <p>No municipalities could be found.</p>
            {% endif %}
        </div>
    </div>
{% endblock %}